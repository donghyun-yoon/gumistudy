# 02. 네트워크 모델

## 목차

[1. 네트워크 모델의 종류](#1-네트워크-모델의-종류)

- [1-1. OSI 7계층](#1-1-osi-7계층)
- [1-2. TCP/IP 모델](#1-2-tcpip-모델)

[2. 두 모델 비교](#2-두-모델-비교)

- [2-1. OSI 7계층](#2-1-osi-7계층)
- [2-2. TCP/IP 모델](#2-2-tcpip-모델)

[3. 네트워크를 통해 전달되는 데이터, 패킷](#3-네트워크를-통해-전달되는-데이터-패킷)

[4. Reference](#4-reference)

<hr>

## 1. 네트워크 모델의 종류

### 1-1. OSI 7계층

물리 계층, 데이터 계층, 네트워크 계층, 전송 계층, 세션 계층, 표현 계층, 응용 계층으로 이루어짐

### 1-2. TCP/IP 모델

네트워크 인터페이스, 인터넷 계층, 전송 계층, 응용 계층으로 이루어짐

![](https://t1.daumcdn.net/cfile/tistory/261CC03358E1B73D32)

<hr>

## 2. 두 모델 비교

**공통점**

- 계층적 네트워크 모델
- 계층간 역할 정의

**차이점**

- 계층의 수 차이
- OSI는 역할 기반, TCP/IP는 프로토콜 기반
- OSI는 통신 전반에 대한 표준
- TCP/IP는 데이터 전송기술 특화

### 2-1. OSI 7계층

**물리 계층(Physical Layer)**

- 데이터를 물리 매체상으로 전송하는 역할을 담당하는 계층으로, 전송을 위해 필요한 물리적 링크의 설정, 유지, 해제를 담당
- 사용자 장비와 네트워크 종단장비 사이의 물리적, 전기적인 인터페이스 규정에 초점을 두고 있으며, 전송 선로의 종류에 따라 전송방식과 인코딩 방식을 결정
- 전송 단위는 Bit를 사용
- 단지 데이터 전달의 역할만 함

**데이터 링크 계층(Data-Link Layer)**

- 전송 단위는 Frame을 사용하며 주소는 Mac을 사용
- 물리 계층의 있는 그대로의 전송설비를 신뢰할 수 있는 링크로 변환하는데, 이는 상위 계층인 네트워크 계층에게 오류 없는 물리 계층으로 보이도록 함
- 네트워크 계층에서 정보를 받아 주소와 제어정보를 헤더와 테일에 추가

**네트워크 계층(Network Layer)**

- 전송 단위는 패킷을 사용하며 주소는 IP를 사용
- 송신측에서 수신측까지 데이터를 안전하게 전달하기 위해서 논리적 링크(네트워크)를 설정 하고 상위계층 데이터를 작은 크기의 패킷으로 분할하여 전송하는 역할을 수행
- 데이터를 목적지까지 가장 안전하고 빠르게 전달하도록 함(Rounting 기능)

**전송 계층(Transport Layer)**

- 전송 단위는 Segment를 사용하며 주소는 Port를 사용
- OSI 7계층 구조는 전송계층을 기점으로 하위계층으로 이루어진 네트워크 서비스와 상위계층으로 이루어진 사용자 서비스로 구별
- 전체 메시지를 발신지 대 목적지(end-to-end)간 제어와 에러를 관리
- end-to-end 전송은 단순히 한 컴퓨터에서 다음 컴퓨터로의 전달이 아니라, 송신 컴퓨터의 응용프로그램(프로세스)에서 최종 수신 컴퓨터의 응용프로그램(프로세스)으로의 전달을 의미

**세션 계층(Session Layer)**

- 전송 단위는 메세지(message)
- 세션 계층은 네트워크 대화 제어기로 통신 시스템 간에 상호대화를 설정하고, 유지하고, 동기화 함
- 실제 이용자의 응용프로그램 사이에서 세션이라 불리는 연결을 확립하고 유지하며 동기화 하는 기능을 제공
- 세션 계층은 표현 계층으로부터 받은 데이터를 효율적인 세션 관리를 위해 짧은 데이터 단위로 나눈 후에 전송 계층으로 내려 보냄

**표현 계층(Presentation Layer)**

- 전송 단위는 메세지(message)
- 송, 수신자가 공통으로 이해 할 수 있도록 정보의 데이터 표현방식을 바꾸는 기능을 담당
- 송신측의 표현 계층은 응용 계층으로부터 받은 데이터의 보안과 효율적인 전송을 위해 암호화와 압축을 수행하여 세션 계층으로 내려 보냄

**응용 계층(Applicaion Layer)**

- 전송 단위는 메세지(message)
- 최상위 계층으로 사용자가 네트워크에 접속하는 것을 가능하게 하고 전자우편, 원격파일 접속과 전송 등 사용자 인터페이스를 제공

### 2-2. TCP/IP 모델

**네트워크 접근 계층(Network Access Layer)**

- OSI 7 Layer에서 물리계층과 데이터링크 계층에 해당
- OS의 네트워크 카드와 디바이스 드라이버 등과 같이 하드웨어적인 요소와 관련되는 모든 것을 지원하는 계층
- 송신측 컴퓨터의 경우 상위 계층으로부터 전달받은 패킷에 물리적인 주소를 MAC 주소 정보를 가지고 있는 헤더를 추가하여 프레임을 만들고, 프레임을 하위계층인 물리 계층으로 전달
- 수신측 컴퓨터의 경우 데이터 링크 계층에서 추가된 헤더를 제거하여 상위 계층인 네트워크 계층으로 전달

**인터넷 계층(Internet Layer)**

- OSI 7 Layer의 네트워크 계층에 해당
- 인터넷 계층의 주요 기능은 상위 트랜스포트 계층으로부터 받은 데이터에 IP패킷 헤더를 붙여 IP패킷을 만들고 이를 전송하는 것

**전송 계층(Transport Layer)**

- OSI 7 Layer에서 전송계층에 해당
- 네트워크 양단의 송수신 호스트 사이에서 신뢰성 있는 전송기능을 제공
- 시스템의 논리주소와 포트를 가지고 있어서 각 상위 계층의 프로세스를 연결해서 통신
- 정확한 패킷의 전송을 보장하는 TCP와 정확한 전송을 보장하지 않는 UDP 프로토콜을 이용
- 데이터의 정확한 전송보다 빠른 속도의 전송이 필요한 멀티미디어 통신에서 UDP를 사용하면 TCP보다 유용

**응용 계층(Application Layer)**

- OSI 7 Layer에서 세션 계층 , 표현 계층, 응용 계층에 해당
- 응용프로그램들이 네트워크서비스, 메일서비스, 웹서비스 등을 할 수 있도록 표준적인 인터페이스를 제공

<hr>

## 3. 네트워크를 통해 전달되는 데이터, 패킷

### 3-1. 패킷

패킷이란 네트워크 상에서 전달되는 데이터를 통칭하는 말로 네트워크에서 전달하는 데이터의 형식화된 블록이다.

패킷은 제어 정보와 사용자 데이터로 이루어지며 사용자 데이터는 페이로드라고도 한다.

### 3-2. 패킷의 구조

헤더(머리) + 페이로드(내용/데이터) + 트레일러(꼬리) 로 구성

![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FcCtDwW%2FbtqB2uL0Zb8%2FQ05KBBvn8Mw2l4SCzNLN0K%2Fimg.jpg)

- Version : 인터넷 프로토콜의 버전을 의미한다. IPv4, IPv6 등의 버전이 들어갈 수 있다.
- Header Length : 헤더의 길이이다. 헤더의 길이는 최소 20바이트부터 최대 60바이트의 크기를 가지기에 0부터 15까지의 수를 표현할 수 있는 4비트를 가지고 60바이트까지 표현하기 위해서 4를 곱한다. 0~15 표현 범위에 4를 곱하면 0~60까지를 표현할 수 있다. IPv6에서는 헤더의 크기가 항상 320바이트이기에 이 필드가 없다.
- Type of Service : IP 데이터그램의 서비스 형태를 알린다. 이 필드를 통해 이 패킷이 얼마나 중요하고 긴급한 것인지를 알 수 있기에 QoS(Quality of Service)를 구현할 수 있다. IPv6에서는 Traffic Class로 이름이 바뀌었다. 이 필드는 6비트의 DSCP(Differenctiated Service Code Point)와 2비트의 ECN(Explicit Congestion Notification)라는 필드로 구분된다.
  - DSCP : 서비스 유형을 의미하는 필드이다. 인터넷(Internet)과 지역(Local), 실험 또는 임시적으로 쓰는 패킷인지를 구분 하는 것이 정의되어 있다.
  - ECN : 원래는 경로의 혼잡 정보를 담는 필드로 쓰려고 정의했다고 하는데 지금은 쓰지 않는 필드이다.
- Total Packet length : 헤더의 크기까지 포함한 IP데이터그램의 크기를 의미한다.
- Identifier : IP 데이터그램을 구분하기 위해서 쓴다. 예를 들어 IP 데이터그램이 단편화(fragmentation)되었을 때 단편화된 데이터그램이 원래 어떤 데이터그램에 속해 있는 지를 알 수 있다. IPv6에서는 라우터가 패킷을 단편화하지 않기 때문에 이 필드는 삭제되었다.
- Flags : IP 데이터그램이 단편화됬는지를 나타내는 필드이다. 마찬가지로 IPv6에서는 삭제되었다.
- Fragmentation Offset : 단편화된 데이터그램의 순서를 나타낸다. 역시나 IPv6에서는 삭제되었다.
- Time to Live : 패킷이 라우터를 최대 몇 번 거쳐서까지 살아 남을 것인지를 나타내는 필드이다. 패킷이 라우터를 거칠 때마다 이 필드의 값이 1씩 감소되며 0이 되면 버려진다. 흔히 TTL로 줄여 부른다.
- Protocol : IP 데이터그램의 데이터(페이로드)에 담겨져 있는 상위 계층의 프로토콜을 알려준다. IPv6에서는 Next Header로 이름이 변경되었다. ICMP가 1번, IGMP가 2번, TCP가 6번, UDP가 17번으로 정의되어 있다.
- Header checksum: Header 필드의 오류를 검출할 수 있는 정보가 담긴 필드이다. 하위 계층에서 원홉오류검출을 하고 상위계층에서 종단간오류검출을 하는 데도 불구하고 네트워크 계층의 프로토콜에 이 필드가 있는 이유는 다음과 같다. 과거에는 이웃 노드간 통신 중에 패킷이 깨지는 경우가 너무 빈번하였기에 라우터에서 한번 더 오류검출하기 위해 정의한 필드라고 한다. 현재는 기술이 많이 발전하여 유선에서는 사실 거의 패킷유실(Packet loss)가 발생하지 않는다. 그래서 IPv6에서는 지워진 필드다.
- Source IP address : 패킷을 보낸 노드의 IP 주소가 담긴다.
- Destination IP address : 패킷이 도착해야하는 목적지의 IP 주소가 담긴다.

## 4. Reference

- https://www.youtube.com/watch?v=y9nlT52SAcg&list=PL0d8NnikouEWcF1jJueLdjRIC4HsUlULi&index=4
- https://goitgo.tistory.com/25
- https://sanghun219.tistory.com/29
